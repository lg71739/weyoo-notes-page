import{_ as i,r,o as t,c as o,d as e,e as n,b as a,f as l}from"./app-19e0b0f0.js";const d={},c=e("hr",null,null,-1),u=e("hr",null,null,-1),p=e("p",null,"国内从 DockerHub 拉取镜像有时会遇到困难，此时可以配置镜像加速器。Docker 官方和国内很多云服务商都提供了国内加速器服务，例如：",-1),m={href:"https://docker.mirrors.ustc.edu.cn/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://hub-mirror.c.163.com/",target:"_blank",rel:"noopener noreferrer"},v=e("li",null,[n("阿里云："),e("strong",null,"https://<你的ID>.mirror.aliyuncs.com")],-1),b={href:"https://reg-mirror.qiniu.com",target:"_blank",rel:"noopener noreferrer"},g=e("p",null,"当配置某一个加速器地址之后，若发现拉取不到镜像，请切换到另一个加速器地址。国内各大云服务商均提供了 Docker 镜像加速服务，建议根据运行 Docker 的云平台选择对应的镜像加速服务。",-1),k={href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors",target:"_blank",rel:"noopener noreferrer"},_=l(`<p>登陆后，左侧菜单选中镜像加速器就可以看到你的专属地址了：</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2023/02/14_13_50_2_13_21_54_42_202302132154486.png" alt="阿里云镜像加速" tabindex="0" loading="lazy"><figcaption>阿里云镜像加速</figcaption></figure><h2 id="配置镜像加速器" tabindex="-1"><a class="header-anchor" href="#配置镜像加速器" aria-hidden="true">#</a> 配置镜像加速器</h2><p>针对Docker客户端版本大于 1.10.0 的用户</p><p>您可以通过修改daemon配置文件/etc/docker/daemon.json来使用加速器</p><h3 id="创建文件夹" tabindex="-1"><a class="header-anchor" href="#创建文件夹" aria-hidden="true">#</a> 创建文件夹</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo mkdir -p /etc/docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="写入daemon-json文件" tabindex="-1"><a class="header-anchor" href="#写入daemon-json文件" aria-hidden="true">#</a> 写入daemon.json文件</h3><p>阿里云源注意替换为自己的专属ID</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [
  	&quot;https://[你的专属id].mirror.aliyuncs.com&quot;,
  	&quot;http://hub-mirror.c.163.com&quot;,
  	&quot;https://docker.mirrors.ustc.edu.cn&quot;,
  	&quot;https://reg-mirror.qiniu.com&quot;
  ]
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>设置单个源</summary><ul><li><p>阿里云镜像加速</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://[你的专属id].mirror.aliyuncs.com&quot;]
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>网易云加速</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>七牛云加速</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://reg-mirror.qiniu.com&quot;]
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>科大镜像</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn&quot;]
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>::::</p></li></ul><h2 id="重载镜像" tabindex="-1"><a class="header-anchor" href="#重载镜像" aria-hidden="true">#</a> 重载镜像</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="重启docker" tabindex="-1"><a class="header-anchor" href="#重启docker" aria-hidden="true">#</a> 重启docker</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="检查加速器是否生效" tabindex="-1"><a class="header-anchor" href="#检查加速器是否生效" aria-hidden="true">#</a> 检查加速器是否生效</h2><p>检查加速器是否生效配置加速器之后，如果拉取镜像仍然十分缓慢，请手动检查加速器配置是否生效，在命令行执行 <strong>docker info</strong>，如果从结果中看到了如下内容，说明配置成功。</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2023/02/14_13_54_12_image-20230214135412681.png" alt="检查加速器是否生效" tabindex="0" loading="lazy"><figcaption>检查加速器是否生效</figcaption></figure><div class="hint-container warning"><p class="hint-container-title">温馨提示:</p><p>在安装MySQL时，阿里云的镜像服务速度并不理想，遂切换了网易云的镜像，速度还可以。</p><p>如果遇到下载速度不理想的状况，可以尝试切换一下源</p></div></details>`,11);function f(q,x){const s=r("ExternalLinkIcon");return t(),o("div",null,[c,u,p,e("ul",null,[e("li",null,[n("科大镜像："),e("strong",null,[e("a",m,[n("https://docker.mirrors.ustc.edu.cn/"),a(s)])])]),e("li",null,[n("网易："),e("strong",null,[e("a",h,[n("https://hub-mirror.c.163.com/"),a(s)])])]),v,e("li",null,[n("七牛云加速器："),e("strong",null,[e("a",b,[n("https://reg-mirror.qiniu.com"),a(s)])])])]),g,e("p",null,[n("阿里云镜像获取地址："),e("a",k,[n("https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors"),a(s)]),n(" ，")]),_])}const j=i(d,[["render",f],["__file","le2v34jmccl4eqyrabd.html.vue"]]);export{j as default};
