import{_ as n,r as l,o as c,c as o,d as a,e as i,b as s,f as t}from"./app-a55ff2b5.js";const r={},p=a("h1",{id:"gitlab",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#gitlab","aria-hidden":"true"},"#"),i(" GitLab")],-1),g=a("h2",{id:"gitlab-简介",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#gitlab-简介","aria-hidden":"true"},"#"),i(" GitLab 简介")],-1),d=a("p",null,"GitLab 是由 GitLabInc. 开发，使用 MIT 许可证的基于 网络的 Git 仓库管理工具，且具有 wiki 和 issue 跟踪功能。使用 Git 作为代码管理工具，并在此基础上搭建起来的 web 服务",-1),b=a("p",null,"GitLab 由乌克兰程序员 DmitriyZaporozhets 和 ValerySizov 开发，它使用 Ruby 语言写成。后来，一些部分用 Go 语言重写。截止 2018 年 5 月，该公司约有 290 名团队成员，以及 2000 多名开源贡献者。GitLab 被 IBM，Sony，JülichResearchCenter，NASA，Alibaba，Invincea，O’ReillyMedia，Leibniz-Rechenzentrum(LRZ)，CERN，SpaceX 等组织使用",-1),u={href:"https://about.gitlab.com/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://about.gitlab.com/installation/",target:"_blank",rel:"noopener noreferrer"},m=t('<h2 id="gitlab-安装" tabindex="-1"><a class="header-anchor" href="#gitlab-安装" aria-hidden="true">#</a> GitLab 安装</h2><h3 id="服务器准备" tabindex="-1"><a class="header-anchor" href="#服务器准备" aria-hidden="true">#</a> 服务器准备</h3><p>准备一个系统为 CentOS7 以上版本的服务器，要求：内存 4G，磁盘 50G</p><p>关闭防火墙，并且配置好主机名和 IP，保证服务器可以上网</p><p>此教程使用虚拟机：主机名：<code>gitlab-server</code> IP 地址：<code>192.168.6.200</code></p><h3 id="安装包准备" tabindex="-1"><a class="header-anchor" href="#安装包准备" aria-hidden="true">#</a> 安装包准备</h3><p><code>Yum</code> 在线安装 <code>gitlab-ce</code> 时，需要下载几百 M 的安装文件，非常耗时，所以最好提前把所需 <code>RPM</code> 包下载到本地，然后使用离线 <code>rpm</code> 的方式安装</p><p>下载地址：</p>',8),f={href:"https://packages.gitlab.com/gitlab",target:"_blank",rel:"noopener noreferrer"},_=t(`<p>注：资料里提供了此 <code>rpm</code> 包，直接将此包上传到服务器<code>/opt/module</code>目录下即可</p><h3 id="编写安装脚本" tabindex="-1"><a class="header-anchor" href="#编写安装脚本" aria-hidden="true">#</a> 编写安装脚本</h3><p>安装 GitLab 步骤比较繁琐，因此我们可以参考官网编写 GitLab 的安装脚本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> gitlab-install.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将下列脚本内容复制到创建的<code>gitlab-install.sh</code>文件中</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> /opt/module/gitlab-ce-13.10.2-ce.0.el7.x86_64.rpm
<span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span>
<span class="token function">curl</span> policycoreutils-python openssh-server cronie
<span class="token function">sudo</span> lokkit <span class="token parameter variable">-s</span> http <span class="token parameter variable">-s</span> <span class="token function">ssh</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> postfix
<span class="token function">sudo</span> <span class="token function">service</span> postfix start
<span class="token function">sudo</span> <span class="token function">chkconfig</span> postfix on
<span class="token function">curl</span> https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span>
<span class="token function">sudo</span> <span class="token assign-left variable">EXTERNAL_URL</span><span class="token operator">=</span><span class="token string">&quot;http://gitlab.example.com&quot;</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gitlab-ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>给脚本增加执行权限</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x gitlab-install.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>执行脚本变绿，说明具备执行权限</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_5_202402140907512.png" alt="image-20210919155804680" tabindex="0" loading="lazy"><figcaption>image-20210919155804680</figcaption></figure><p>然后执行该脚本，开始安装 <code>gitlab-ce</code>。注意一定要保证服务器可以上网</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./gitlab-install.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>耐心等待片刻</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_13_202402140907711.png" alt="image-20210919160034134" tabindex="0" loading="lazy"><figcaption>image-20210919160034134</figcaption></figure><p>脚本执行成功</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_25_202402140907023.png" alt="image-20210919160107808" tabindex="0" loading="lazy"><figcaption>image-20210919160107808</figcaption></figure><h3 id="初始化-gitlab-服务" tabindex="-1"><a class="header-anchor" href="#初始化-gitlab-服务" aria-hidden="true">#</a> 初始化 GitLab 服务</h3><p>执行以下命令初始化 GitLab 服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gitlab-ctl reconfigure
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>过程大概需要几分钟，耐心等待…</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_32_202402140907743.png" alt="image-20210919160356614" tabindex="0" loading="lazy"><figcaption>image-20210919160356614</figcaption></figure><p>出现<code>gitlab Reconfigured!</code>说明 GitLab 服务初始化成功</p><h3 id="启动-gitlab-服务" tabindex="-1"><a class="header-anchor" href="#启动-gitlab-服务" aria-hidden="true">#</a> 启动 GitLab 服务</h3><p>执行以下命令启动 GitLab 服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gitlab-ctl start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如需停止，执行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gitlab-ctl stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>服务启动成功</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_41_202402140907667.png" alt="image-20210919160530911" tabindex="0" loading="lazy"><figcaption>image-20210919160530911</figcaption></figure><h4 id="使用浏览器访问-gitlab" tabindex="-1"><a class="header-anchor" href="#使用浏览器访问-gitlab" aria-hidden="true">#</a> 使用浏览器访问 GitLab</h4><p>使用主机名或者 IP 地址即可访问 GitLab 服务，使用主机名访问需要提前配置一下 windows 的 hosts 文件</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_49_202402140907482.png" alt="image-20210919160829896" tabindex="0" loading="lazy"><figcaption>image-20210919160829896</figcaption></figure><p>首次登陆之前，需要修改下 GitLab 提供的 root 账户的密码，要求 8 位以上，包含大小写子母和特殊符号。因此我们修改密码为 <code>Atguigu.123456</code>，然后使用修改后的密码登录 GitLab</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_7_58_202402140907536.png" alt="image-20210919161046164" tabindex="0" loading="lazy"><figcaption>image-20210919161046164</figcaption></figure><p>接下来，就可以用刚才修改的账号密码进行登录了</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_6_202402140908793.png" alt="image-20210919161237059" tabindex="0" loading="lazy"><figcaption>image-20210919161237059</figcaption></figure><p>登录成功</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_15_202402140908304.png" alt="image-20210919161527493" tabindex="0" loading="lazy"><figcaption>image-20210919161527493</figcaption></figure><h3 id="gitlab-创建远程库" tabindex="-1"><a class="header-anchor" href="#gitlab-创建远程库" aria-hidden="true">#</a> GitLab 创建远程库</h3>`,39),v={href:"https://gitlab.com/",target:"_blank",rel:"noopener noreferrer"},y={href:"https://gitlab.com/gitlab-org/gitlab",target:"_blank",rel:"noopener noreferrer"},x=t('<figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_22_202402140908970.png" alt="image-20210919163342358" tabindex="0" loading="lazy"><figcaption>image-20210919163342358</figcaption></figure><p>点击<code>New project/repository</code>—<code>Create a project</code>进行 GitLab 仓库的创建</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_30_202402140908486.png" alt="image-20210919163437259" tabindex="0" loading="lazy"><figcaption>image-20210919163437259</figcaption></figure><p>填写项目信息后，点击<code>Create project</code>即可</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_37_202402140908008.png" alt="image-20210919163952615" tabindex="0" loading="lazy"><figcaption>image-20210919163952615</figcaption></figure><p>创建成功</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_42_202402140908952.png" alt="image-20210919164852273" tabindex="0" loading="lazy"><figcaption>image-20210919164852273</figcaption></figure><h2 id="idea-集成-gitlab" tabindex="-1"><a class="header-anchor" href="#idea-集成-gitlab" aria-hidden="true">#</a> IDEA 集成 GitLab</h2><p>1）安装 GitLab 插件</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_48_202402140908940.png" alt="image-20210919162903737" tabindex="0" loading="lazy"><figcaption>image-20210919162903737</figcaption></figure><p>2）设置 GitLab 插件</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_8_56_202402140908667.png" alt="image-20210919173003661" tabindex="0" loading="lazy"><figcaption>image-20210919173003661</figcaption></figure><p>出现相关信息，说明添加成功</p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_9_4_202402140909568.png" alt="image-20210919173021265" tabindex="0" loading="lazy"><figcaption>image-20210919173021265</figcaption></figure><p>3）push 本地代码到 GitLab 远程库</p><p>我们首先添加一个远程库别名</p><p>点击<code>Git</code>—<code>Manage Remotes</code></p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_9_11_202402140909995.png" alt="image-20210919165245464" tabindex="0" loading="lazy"><figcaption>image-20210919165245464</figcaption></figure><p>点击<code>+</code>号，自定义一个远程别名及对应远程库地址，点击<code>OK</code></p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_9_19_202402140909448.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>出现刚刚的记录，说明添加远程别名成功，点击<code>OK</code></p><figure><img src="https://jihulab.com/byzh123/images/-/raw/images/pictures/2024/02/14_9_9_26_202402140909968.png" alt="image-20210919165610798" tabindex="0" loading="lazy"><figcaption>image-20210919165610798</figcaption></figure><p>只要 GitLab 的远程库连接定义好以后，对 GitLab 远程库进行 pull 和 clone 的操作和 Github、码云一致，此处不再赘述</p>',23);function k(z,G){const e=l("ExternalLinkIcon");return c(),o("div",null,[p,g,d,b,a("blockquote",null,[a("ul",null,[a("li",null,[i("官网地址："),a("a",u,[i("https://about.gitlab.com/"),s(e)])]),a("li",null,[i("安装说明："),a("a",h,[i("https://about.gitlab.com/installation/"),s(e)])])])]),m,a("ul",null,[a("li",null,[a("a",f,[i("https://packages.gitlab.com/gitlab"),s(e)])])]),_,a("p",null,[i("我这里以官网 GitLab 为例，官网地址："),a("a",v,[i("https://gitlab.com/"),s(e)])]),a("p",null,[i("官网还提供了 GitLab 自身的项目源码："),a("a",y,[i("https://gitlab.com/gitlab-org/gitlab"),s(e)])]),x])}const w=n(r,[["render",k],["__file","40-1707835674115.html.vue"]]);export{w as default};
